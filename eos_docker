#
# Simple EOS Docker file 
#
# Version 0.1

# Use the fedora base image
FROM fedora
MAINTAINER Elvin Sindrialru, esindril@cern.ch, CERN 2014

# Add the EOS repository
ADD eos.repo /etc/yum.repos.d/eos.repo

# Install EOS 
RUN yum -y --nogpg install eos-server eos-testkeytab

# Create the /var/lock/subsys directory needed by the eos daemons
ADD eos.conf /etc/tmpfiled.d/eos.conf
RUN systemd-tmpfiles --create /etc/tmpfiles.d/eos.conf

# Copy the configuration files for EOS 
ADD eos.sysconfig /etc/sysconfig/eos
ADD xrd.cf.mgm /etc/sysconfig/xrd.cf.mgm

# Start the eos instance 
RUN service eos start 

ENTRYPOINT ["/bin/bash"]


